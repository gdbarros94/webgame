
# Setup and Run Instructions
"""
1. Create a virtual environment:
   python3 -m venv venv
   source venv/bin/activate  # On Windows, use `venv\Scripts\activate`

2. Install requirements:
   pip install -r requirements.txt

3. Run Backend:
   python game_server.py

4. Open the HTML file in a modern browser
"""

# Backend Tests (save as test_game_server.py)
import pytest
import asyncio
from game_server import GameServer, Player

@pytest.mark.asyncio
async def test_collision_detection():
    game_server = GameServer()
    player1 = Player(id='1', x=0, y=0, radius=20)
    player2 = Player(id='2', x=10, y=10, radius=10)
    
    assert game_server.check_collision(player1, player2)

@pytest.mark.asyncio
async def test_player_collision_result():
    game_server = GameServer()
    player1 = Player(id='1', x=0, y=0, radius=30)
    player2 = Player(id='2', x=10, y=10, radius=10)
    
    result, _ = game_server.handle_player_collision(player1, player2)
    assert result.radius > player1.radius
    assert result.score > 0
